<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Creating a Theme | Antipodae</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (fr)" href="../../fr/rss.xml">
<link rel="canonical" href="https://antipodae.fr/stories/creating-a-theme/">
<!--[if lt IE 9]>
            <script src="../../assets/js/html5shiv.min.js"></script>
            <script src="../../assets/js/respond.min.js"></script>
        <![endif]--><link href="https://fonts.googleapis.com/css?family=Playfair+Display%7CRaleway:200,400,700" rel="stylesheet">
<meta name="author" content="Mathieu Clabaut">
<meta property="og:site_name" content="Antipodae">
<meta property="og:title" content="Creating a Theme">
<meta property="og:url" content="https://antipodae.fr/stories/creating-a-theme/">
<meta property="og:description" content="Niko­la is a stat­ic site and blog gen­er­a­tor. So is Jekyl­l. While I like what we have done with Niko­la,
I do ad­mit that Jekyll (and oth­er­s!) have many more, and nicer themes than Niko­la does.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-05-28T18:46:48+00:00">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar  header-panel shadow-z-3" role="navigation"><div class="container-fluid">
        <div class="row">
          <div class="col-xs-3">
            <h1 class="title-blog">
                <a href="https://antipodae.fr/">
                        <img src="images/logo150.png" alt="Antipodae" id="logo"></a>
            </h1>
          </div>
        </div>
      </div>
<!-- /.container-fluid -->
</nav><div class="container-fluid main" id="content" role="main">
        <div class="row">
            <nav class="col-xs-3 menu"><ul>
<li class="withripple"><a href="../../archive.html">Archive</a></li>
                <li class="withripple"><a href="../../categories/">Tags</a></li>
                <li class="withripple"><a href="../../rss.xml">RSS&nbsp;feed</a></li>

                    
                </ul>
<ul class="nav navbar-nav">
<li>            </li>
<li><a href="https://antipodae.fr/fr/" rel="alternate" hreflang="fr">Français</a></li>

                    
                </ul></nav><div class="posts-material col-xs-9">
                <div class="col-xs-12 col-md-11 content-material">
<article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Creating a&nbsp;Theme</a></h1>
<hr></header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Niko­la is a stat­ic site and blog gen­er­a­tor. So is Jekyl­l. While I like what we have done with Niko­la,
I do ad­mit that Jekyll (and oth­er­s!) have many more, and nicer themes than Niko­la&nbsp;does.</p> 
 <p>This doc­u­ment is an at­tempt at mak­ing it eas­i­er for 3rd par­ties (that means  <em>you</em>  peo­ple! ;-) to
cre­ate themes. Since I  <strong>suck</strong>  at de­sign­ing web­sites, I asked for opin­ions on themes to port,
and got some feed­back. Since this is  <strong>Not So Hard™</strong>, I will try to make time to port a few
and see what&nbsp;hap­pen­s.</p> 
 <p>To­day’s theme is  <a class="reference external" href="https://github.com/poole/lanyon">Lany­on</a>  which is writ­ten by  <a class="reference external" href="https://twitter.com/mdo">@m­do</a> 
and re­leased un­der a MIT li­cense, which is lib­er­al&nbsp;enough.</p> 
 <p>So, let’s get&nbsp;start­ed.</p> 
 <div class="section" id="checking-it-out">
<h2>Checking It&nbsp;Out</h2>
<p>The first step in port­ing a theme is mak­ing the orig­i­nal theme work. Lany­on is awe­some in that it­s
 <a class="reference external" href="https://github.com/poole/lanyon">GitHub project</a>  is a full&nbsp;site!</p> 
 <p>So:</p> 
 <pre class="literal-block">
# Get jekyll
sudo apt-get install jekyll

# Get Lanyon
git clone git@github.com:poole/lanyon.git

# Build it
cd lanyon &amp;&amp; jekyll build

# Look at it
jekyll serve <span class="amp">&amp;</span> google-chrome http://localhost:4000
</pre>
<p>If you  <strong>do not want to in­stall Jekyll</strong>, you can al­so see it in ac­tion at  <a class="reference external" href="http://lanyon.getpoole.com/">http://lany­on.get­poole.­com/</a></p> 
 <p>Some things jump to my&nbsp;mind:</p> 
 <ol class="arabic simple">
<li>This is one fine look­ing&nbsp;theme</li> 
 <li>Very clear and&nbsp;read­able</li> 
 <li>Nice hid­den&nbsp;nav­i­ga­tion-thingy</li> 
 </ol>
<p>Al­so, from look­ing at  <a class="reference external" href="https://github.com/poole/lanyon/blob/master/README.md">the pro­jec­t’s README</a> 
it sup­ports some nice con­fig­u­ra­tion&nbsp;op­tion­s:</p> 
 <ol class="arabic simple">
<li>Col­or&nbsp;schemes</li> 
 <li>Re­verse&nbsp;lay­out</li> 
 <li>Side­bar over­lay in­stead of&nbsp;push</li> 
 <li>Open the side­bar by de­fault, or on a per-­page ba­sis by us­ing its&nbsp;meta­da­ta</li> 
 </ol>
<p>Let’s try to make all those nice things sur­vive the&nbsp;port­ing.</p> 
 </div>
<div class="section" id="starting-from-somewhere">
<h2>Starting From&nbsp;Somewhere</h2>
<p>Niko­la has a nice, clean, base theme from which you can start when writ­ing your own theme.
Why start from that in­stead of from a clean slate? Be­cause theme in­her­i­tance is go­ing to save you a ton of work,
that’s why. If you start from scratch you won’t be able to build  <strong>any­thing</strong>  un­til you have a bunch of
tem­plates writ­ten. Start­ing from base, you just need to hack on the things you  <strong>need</strong>  to&nbsp;change.</p> 
 <p>First, we cre­ate a site with some con­tent in it. We’ll use the  <tt class="docutils literal">niko­la init</tt>  wiz­ard (with the  <tt class="docutils literal"><span class="pre">--de­­mo</span></tt>  op­tion) for&nbsp;that:</p> 
 <pre class="literal-block">
$ nikola init --demo lanyon-port
Creating Nikola Site
====================

This is Nikola v7.4.1.  We will now ask you a few easy questions about your new site.
If you do not want to answer and want to go with the defaults instead, simply restart with the `-q` parameter.
--- Questions about the site ---
Site title [My Nikola Site]:
Site author [Nikola Tesla]:
Site author's e-mail [n.tesla@example.com]:
Site description [This is a demo site for Nikola.]:
Site URL [https://example.com/]:
--- Questions about languages and locales ---
We will now ask you to provide the list of languages you want to use.
Please list all the desired languages, comma-separated, using ISO 639-1 codes.  The first language will be used as the default.
Type '?' (a question mark, sans quotes) to list available languages.
Language(s) to use [en]:

Please choose the correct time zone for your blog. Nikola uses the tz database.
You can find your time zone here:
http://en.wikipedia.org/wiki/List_of_tz_database_time_zones

Time zone [UTC]:
    Current time in UTC: 16:02:07
Use this time zone? [Y/n]
--- Questions about comments ---
You can configure comments now.  Type '?' (a question mark, sans quotes) to list available comment systems.  If you do not want any comments, just leave the field blank.
Comment system:

That's it, Nikola is now configured.  Make sure to edit conf.py to your liking.
If you are looking for themes and addons, check out https://themes.getnikola.com/ and https://plugins.getnikola.com/.
Have fun!
[2015-05-28T16:02:08Z] INFO: init: A new site with example data has been created at lanyon-port.
[2015-05-28T16:02:08Z] INFO: init: See README.txt in that folder for more information.
</pre>
<p>Then, we cre­ate an emp­ty theme in­her­it­ing from base. This theme will use Mako tem­plates. If you pre­fer Jin­ja2,
then you should use  <tt class="docutils literal"><span class="pre">base-jin­­ja</span></tt>  in­stead:</p> 
 <pre class="literal-block">
$ cd lanyon-port/
$ mkdir themes
$ mkdir themes/lanyon
$ echo base &gt; themes/lanyon/parent
</pre>
<p>Ed­it  <tt class="docutils literal">con­f.py</tt>  and set  <tt class="docutils literal">THEME = 'lany­on'</tt>. Al­so set  <tt class="docutils literal">USE_BUN­DLES = False</tt>  (just do it for now, we’ll get to bun­dles&nbsp;lat­er).</p> 
 <p>You can now build that site us­ing  <tt class="docutils literal">niko­la build</tt>  and it will look like&nbsp;this:</p> 
 <div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-0.png"><img alt="https://getnikola.com/images/lanyon-0.thumbnail.png" src="https://getnikola.com/images/lanyon-0.thumbnail.png"></a>
<p class="caption">This is just the base&nbsp;theme.</p> 
 </div>
</div>
<div class="section" id="basic-css">
<h2>Basic&nbsp;CSS</h2>
<p>The next step is to know ex­act­ly how Lany­on’s pages work. To do this, we read its HTM­L.
­First let’s look at the head&nbsp;el­e­men­t:</p> 
 <pre class="code html"><a name="rest_code_bde757e047964678b2578baa2731f49a-1"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-2"></a><span class="p">&lt;</span><span class="nt">html</span> <span class="na">xmlns</span><span class="o">=</span><span class="s">"http://www.w3.org/1999/xhtml"</span> <span class="na">xml:lang</span><span class="o">=</span><span class="s">"en"</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en-us"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-3"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-4"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-5"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://gmpg.org/xfn/11"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"profile"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-6"></a><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">"content-type"</span> <span class="na">content</span><span class="o">=</span><span class="s">"text/html; charset=utf-8"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-7"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-8"></a><span class="c">&lt;!-- Enable responsiveness on mobile devices--&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-9"></a><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width, initial-scale=1.0, maximum-scale=1"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-10"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-11"></a><span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-12"></a>    Lanyon <span class="ni">&amp;middot;</span> A Jekyll theme
<a name="rest_code_bde757e047964678b2578baa2731f49a-13"></a><span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-14"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-15"></a><span class="c">&lt;!-- CSS --&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-16"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/public/css/poole.css"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-17"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/public/css/syntax.css"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-18"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/public/css/lanyon.css"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-19"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-20"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-21"></a><span class="c">&lt;!-- Icons --&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-22"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"apple-touch-icon-precomposed"</span> <span class="na">sizes</span><span class="o">=</span><span class="s">"144x144"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/public/apple-touch-icon-144-precomposed.thumbnail.png"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-23"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"shortcut icon"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/public/favicon.ico"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-24"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-25"></a><span class="c">&lt;!-- RSS --&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-26"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"alternate"</span> <span class="na">type</span><span class="o">=</span><span class="s">"application/rss+xml"</span> <span class="na">title</span><span class="o">=</span><span class="s">"RSS"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/atom.xml"</span><span class="p">&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-27"></a>
<a name="rest_code_bde757e047964678b2578baa2731f49a-28"></a><span class="c">&lt;!-- Google Analytics --&gt;</span>
<a name="rest_code_bde757e047964678b2578baa2731f49a-29"></a>[...]
<a name="rest_code_bde757e047964678b2578baa2731f49a-30"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre>
<p>The in­ter­est­ing part there is that it loads a few CSS files. If you check the source of your Niko­la site, you will
see some­thing fair­ly&nbsp;sim­i­lar:</p> 
 <pre class="code html"><a name="rest_code_e5447a92361e4cb98207dea225b964d2-1"></a><span class="cp">&lt;!DOCTYPE html&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-2"></a><span class="p">&lt;</span><span class="nt">html</span> <span class="na">prefix</span><span class="o">=</span><span class="s">"og: http://ogp.me/ns# article: http://ogp.me/ns/article# "</span> <span class="na">vocab</span><span class="o">=</span><span class="s">"http://ogp.me/ns"</span> <span class="na">lang</span><span class="o">=</span><span class="s">"en"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-3"></a><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-4"></a><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-5"></a><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"description"</span> <span class="na">content</span><span class="o">=</span><span class="s">"This is a demo site for Nikola."</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-6"></a><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"viewport"</span> <span class="na">content</span><span class="o">=</span><span class="s">"width=device-width"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-7"></a><span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My Nikola Site | My Nikola Site<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-8"></a>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-9"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"assets/css/rst.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-10"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"assets/css/code.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-11"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"assets/css/theme.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-12"></a>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-13"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"alternate"</span> <span class="na">type</span><span class="o">=</span><span class="s">"application/rss+xml"</span> <span class="na">title</span><span class="o">=</span><span class="s">"RSS"</span> <span class="na">href</span><span class="o">=</span><span class="s">"rss.xml"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-14"></a><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"canonical"</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://example.com/index.html"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-15"></a><span class="c">&lt;!--[if lt IE 9]&gt;&lt;script src="assets/js/html5.js"&gt;&lt;/script&gt;&lt;![endif]--&gt;</span><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"prefetch"</span> <span class="na">href</span><span class="o">=</span><span class="s">"posts/welcome-to-nikola.html"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span><span class="p">&gt;</span>
<a name="rest_code_e5447a92361e4cb98207dea225b964d2-16"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</pre>
<p>Luck­i­ly, since this is all un­der a very lib­er­al li­cense, we can just copy these CSS files in­to
Niko­la, adapt­ing the paths a lit­tle so that they fol­low our&nbsp;con­ven­tion­s:</p> 
 <pre class="literal-block">
$ mkdir -p themes/lanyon/assets/css
$ cp ../lanyon/public/css/poole.css themes/lanyon/assets/css/
$ cp ../lanyon/public/css/lanyon.css themes/lanyon/assets/css/
</pre>
<p>No­tice I am  <em>not</em>  copy­ing  <tt class="docutils literal">syn­tax.c­ss</tt>? That’s be­cause Niko­la han­dles that styles for syn­tax high­light­ing
in a par­tic­u­lar way, us­ing a set­ting called  <tt class="docutils literal">CODE_­COL­OR_SCHEME</tt>  where you can con­fig­ure
what col­or scheme the syn­tax high­lighter us­es. You can use your own  <tt class="docutils literal">as­set­s/c­ss/­code.c­ss</tt>  if you
­don’t like the pro­vid­ed&nbsp;ones.</p> 
 <p>Niko­la  <strong>re­quires</strong>   <tt class="docutils literal">as­set­s/c­ss/rst.c­ss</tt>  and  <tt class="docutils literal">as­set­s/c­ss/­code.c­ss</tt>  to func­tion prop­er­ly.
We will al­so add themes for IPython Note­book (<tt class="docutils literal">as­set­s/c­ss/ipython.min.c­ss</tt> 
and  <tt class="docutils literal">as­set­s/c­ss/niko­la_ipython.c­ss</tt>) in­to the tem­plate; note that they are
ac­ti­vat­ed on­ly if you con­fig­ured your  <tt class="docutils literal">POSTS</tt>/<tt class="docutils literal">PAGES</tt>  with ipynb&nbsp;sup­port.</p> 
 <p>But how do I tell  <strong>our</strong>  lany­on theme to use those CSS files in­stead of what­ev­er it’s us­ing now?
­By giv­ing our theme its own&nbsp;base_helper.tm­pl.</p> 
 <p>That file is a  <strong>tem­plate</strong>  used to gen­er­ate parts of the pages. It’s large and
­com­pli­cat­ed but we don’t need to change a lot of it. First, get it from
 <a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/data/themes/base/templates/base_helper.tmpl">Niko­la’s source code</a>  and put a copy in  <tt class="docutils literal">themes/lany­on/tem­plates/base_helper.tm­pl</tt>:</p> 
 <pre class="literal-block">
$ mkdir themes/lanyon/templates
$ curl https://raw.githubusercontent.com/getnikola/nikola/master/nikola/data/themes/base/templates/base_helper.tmpl &gt; themes/lanyon/templates/base_helper.tmpl
</pre>
<p>The part we want to change is&nbsp;this:</p> 
 <pre class="code html+mako"><a name="rest_code_a0c409fca3dc436c95771c281555a5d6-1"></a><span class="cp">&lt;%</span><span class="nb">def</span> <span class="na">name=</span><span class="s">"html_stylesheets()"</span><span class="cp">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-2"></a>    <span class="cp">%</span><span class="k">if</span> <span class="n">use_bundles</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-3"></a>        <span class="cp">%</span><span class="k">if</span> <span class="n">use_cdn</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-4"></a>            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/all.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-5"></a>        <span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-6"></a>            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/all-nocdn.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-7"></a>        <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-8"></a>    <span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-9"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/rst.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-10"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/code.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-11"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/theme.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-12"></a>        <span class="cp">%</span><span class="k">if</span> <span class="n">has_custom_css</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-13"></a>            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/custom.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-14"></a>        <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-15"></a>    <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-16"></a>    <span class="cp">%</span> <span class="k">if</span> <span class="n">needs_ipython_css</span><span class="p">:</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-17"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/ipython.min.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-18"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/nikola_ipython.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-19"></a>    <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_a0c409fca3dc436c95771c281555a5d6-20"></a><span class="cp">&lt;/%</span><span class="nb">def</span><span class="cp">&gt;</span>
</pre>
<p>And we will change it so it us­es the lany­on styles in­stead of theme.c­ss (a­gain, ig­nore the bun­dles for&nbsp;now!):</p> 
 <pre class="code html+mako"><a name="rest_code_91a043e089d5498aac042a7c184e363f-1"></a><span class="cp">&lt;%</span><span class="nb">def</span> <span class="na">name=</span><span class="s">"html_stylesheets()"</span><span class="cp">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-2"></a>    <span class="cp">%</span><span class="k">if</span> <span class="n">use_bundles</span><span class="p">:</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-3"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/all.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-4"></a>    <span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-5"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/rst.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-6"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/poole.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-7"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/lanyon.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-8"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/code.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-9"></a>        <span class="cp">%</span><span class="k">if</span> <span class="n">has_custom_css</span><span class="p">:</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-10"></a>            <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/custom.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-11"></a>        <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-12"></a>    <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-13"></a>    <span class="cp">%</span> <span class="k">if</span> <span class="n">needs_ipython_css</span><span class="p">:</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-14"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/ipython.min.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-15"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">"/assets/css/nikola_ipython.css"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/css"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-16"></a>    <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-17"></a>    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"stylesheet"</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"</span><span class="p">&gt;</span>
<a name="rest_code_91a043e089d5498aac042a7c184e363f-18"></a><span class="cp">&lt;/%</span><span class="nb">def</span><span class="cp">&gt;</span>
</pre>
<div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-1.png"><img alt="https://getnikola.com/images/lanyon-1.thumbnail.png" src="https://getnikola.com/images/lanyon-1.thumbnail.png"></a>
<p class="caption">You may say this looks like crap. Don’t wor­ry, we are just start­ing&nbsp;:-)</p> 
 </div>
</div>
<div class="section" id="page-layout">
<h2>Page&nbsp;Layout</h2>
<p>This is trick­i­er but should be no prob­lem for peo­ple with a ba­sic un­der­stand­ing of HTML and a de­sire to make a&nbsp;the­me!</p> 
 <p>Lany­on’s con­tent is split in two part­s: a side­bar and the rest. The side­bar looks like this (short­ened for&nbsp;com­pre­hen­sion):</p> 
 <pre class="code html"><a name="rest_code_777b39a5f870454094201347135fe29e-1"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-2"></a><span class="c">&lt;!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-3"></a><span class="c">     styles, `#sidebar-checkbox` for behavior. --&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-4"></a><span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"checkbox"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span> <span class="na">id</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-5"></a>
<a name="rest_code_777b39a5f870454094201347135fe29e-6"></a><span class="c">&lt;!-- Toggleable sidebar --&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-7"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar"</span> <span class="na">id</span><span class="o">=</span><span class="s">"sidebar"</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-8"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-item"</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-9"></a>        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A reserved <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://jekyllrb.com"</span> <span class="na">target</span><span class="o">=</span><span class="s">"_blank"</span><span class="p">&gt;</span>Jekyll<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> theme that places the utmost gravity on content with a hidden drawer. Made by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://twitter.com/mdo"</span> <span class="na">target</span><span class="o">=</span><span class="s">"_blank"</span><span class="p">&gt;</span>@mdo<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-10"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-11"></a>
<a name="rest_code_777b39a5f870454094201347135fe29e-12"></a>    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-nav"</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-13"></a>        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-nav-item active"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/"</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-14"></a>        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-nav-item"</span> <span class="na">href</span><span class="o">=</span><span class="s">"/about/"</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-15"></a>        [...]
<a name="rest_code_777b39a5f870454094201347135fe29e-16"></a>    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
<a name="rest_code_777b39a5f870454094201347135fe29e-17"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>So, a plain body, with an in­put el­e­ment that con­trols the side­bar, a div which is the side­bar it­self.
In­side that, di­v.side­bar-item for item­s, and a nav with &#8220;nav­i­ga­tion­al links&#8221;. This is fol­lowed by the &#8220;mast­head&#8221; and
the con­tent it­self, which we will look at in a&nbsp;bit.</p> 
 <p>If we look for the equiv­a­lent code in Niko­la’s side, we see&nbsp;this:</p> 
 <pre class="code html"><a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-1"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-2"></a><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"#content"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sr-only sr-only-focusable"</span><span class="p">&gt;</span>Skip to main content<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-3"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"container"</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-4"></a><span class="p">&lt;</span><span class="nt">header</span> <span class="na">id</span><span class="o">=</span><span class="s">"header"</span> <span class="na">role</span><span class="o">=</span><span class="s">"banner"</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-5"></a><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">"brand"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://example.com/"</span> <span class="na">title</span><span class="o">=</span><span class="s">"My Nikola Site"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"home"</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nt">span</span> <span class="na">id</span><span class="o">=</span><span class="s">"blog-title"</span><span class="p">&gt;</span>My Nikola Site<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> <span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-6"></a><span class="p">&lt;</span><span class="nt">nav</span> <span class="na">id</span><span class="o">=</span><span class="s">"menu"</span> <span class="na">role</span><span class="o">=</span><span class="s">"navigation"</span><span class="p">&gt;&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-7"></a><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"../archive.html"</span><span class="p">&gt;</span>Archive<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-8"></a>                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"../categories/index.html"</span><span class="p">&gt;</span>Tags<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a name="rest_code_cf269db7ec244e9dac4fc7988dda9817-9"></a>                <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"../rss.xml"</span><span class="p">&gt;</span>RSS feed<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</pre>
<p>So Niko­la has the &#8220;mast­head&#8221; above the nav el­e­men­t, and us­es list el­e­ments in nav in­stead of bare links.
Not all that dif­fer­ent is&nbsp;it?</p> 
 <p>Let’s make it lany­on-­like! We will need 2 more tem­plates:  <a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/data/themes/base/templates/base.tmpl">base.tm­pl</a>  and  <a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/data/themes/base/templates/base_header.tmpl">base_­head­er.tm­pl</a>. Get them and put them in your  <tt class="docutils literal">themes/lany­on/tem­plates</tt>  fold­er.</p> 
 <p>Let’s look at  <tt class="docutils literal">base.tm­pl</tt>  first. It’s short and nice, it looks like a web­page with­out
all the in­ter­est­ing&nbsp;stuff:</p> 
 <pre class="code html+mako"><a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-1"></a><span class="cp">## -*- coding: utf-8 -*-</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-2"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"base"</span> <span class="na">file=</span><span class="s">"base_helper.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-3"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"header"</span> <span class="na">file=</span><span class="s">"base_header.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-4"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"footer"</span> <span class="na">file=</span><span class="s">"base_footer.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-5"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"annotations"</span> <span class="na">file=</span><span class="s">"annotation_helper.tmpl"</span><span class="cp">/&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-6"></a><span class="cp">${</span><span class="n">set_locale</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-7"></a><span class="cp">${</span><span class="n">base</span><span class="o">.</span><span class="n">html_headstart</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-8"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"extra_head"</span><span class="cp">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-9"></a><span class="cp">### Leave this block alone.</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-10"></a><span class="cp">&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-11"></a><span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'extra_head'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-12"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-13"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-14"></a><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"#content"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sr-only sr-only-focusable"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">messages</span><span class="p">(</span><span class="s2">"Skip to main content"</span><span class="p">)</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-15"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"container"</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-16"></a>        <span class="cp">${</span><span class="n">header</span><span class="o">.</span><span class="n">html_header</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-17"></a>        <span class="p">&lt;</span><span class="nt">main</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span> <span class="na">role</span><span class="o">=</span><span class="s">"main"</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-18"></a>            <span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content"</span><span class="cp">&gt;&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-19"></a>        <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-20"></a>        <span class="cp">${</span><span class="n">footer</span><span class="o">.</span><span class="n">html_footer</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-21"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-22"></a>    <span class="cp">${</span><span class="n">body_end</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-23"></a>    <span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'body_end'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-24"></a>    <span class="cp">${</span><span class="n">base</span><span class="o">.</span><span class="n">late_load_js</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-25"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_a0a09f58526d4c0e83416c7b345a84a7-26"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<p>That link which says &#8220;Skip to main con­tent&#8221; is very im­por­tant for ac­ces­si­bil­i­ty, so we will leave it in­
­place. But be­low, you can see how it cre­ates the &#8220;con­tain­er&#8221; div we see in the Niko­la page, and the con­tent is
cre­at­ed by  <tt class="docutils literal">htm­l_­head­er()</tt>  which is de­fined in  <tt class="docutils literal">base_­head­er.tm­pl</tt>  The ac­tu­al  <tt class="docutils literal">nav</tt>  el­e­ment is done
­by the  <tt class="docutils literal">htm­l_­nav­i­ga­tion_links</tt>  func­tion out of the  <tt class="docutils literal">NAV­I­GA­TION_LINKS</tt>  op­tion.</p> 
 <p>So, first, lets change that base tem­plate to be more&nbsp;lany­on-­like:</p> 
 <pre class="code html+mako"><a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-1"></a><span class="cp">## -*- coding: utf-8 -*-</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-2"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"base"</span> <span class="na">file=</span><span class="s">"base_helper.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-3"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"header"</span> <span class="na">file=</span><span class="s">"base_header.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-4"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"footer"</span> <span class="na">file=</span><span class="s">"base_footer.tmpl"</span> <span class="na">import=</span><span class="s">"*"</span><span class="cp">/&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-5"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"annotations"</span> <span class="na">file=</span><span class="s">"annotation_helper.tmpl"</span><span class="cp">/&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-6"></a><span class="cp">${</span><span class="n">set_locale</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-7"></a><span class="cp">${</span><span class="n">base</span><span class="o">.</span><span class="n">html_headstart</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-8"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"extra_head"</span><span class="cp">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-9"></a><span class="cp">### Leave this block alone.</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-10"></a><span class="cp">&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-11"></a><span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'extra_head'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-12"></a><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-13"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-14"></a>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"#content"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sr-only sr-only-focusable"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">messages</span><span class="p">(</span><span class="s2">"Skip to main content"</span><span class="p">)</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-15"></a>    <span class="c">&lt;!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-16"></a><span class="c">            styles, `#sidebar-checkbox` for behavior. --&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-17"></a>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">"checkbox"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span> <span class="na">id</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-18"></a>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-19"></a>    <span class="c">&lt;!-- Toggleable sidebar --&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-20"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar"</span> <span class="na">id</span><span class="o">=</span><span class="s">"sidebar"</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-21"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-item"</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-22"></a>            <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>A reserved <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://getnikola.com"</span> <span class="na">target</span><span class="o">=</span><span class="s">"_blank"</span><span class="p">&gt;</span>Nikola<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> theme that places the utmost gravity on content with a hidden drawer. Made by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://twitter.com/mdo"</span> <span class="na">target</span><span class="o">=</span><span class="s">"_blank"</span><span class="p">&gt;</span>@mdo<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> for Jekyll,
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-23"></a>            ported to Nikola by <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://twitter.com/ralsina"</span> <span class="na">target</span><span class="o">=</span><span class="s">"_blank"</span><span class="p">&gt;</span>@ralsina<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-24"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-25"></a>        <span class="cp">${</span><span class="n">header</span><span class="o">.</span><span class="n">html_navigation_links</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-26"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-27"></a>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-28"></a>    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span> <span class="na">role</span><span class="o">=</span><span class="s">"main"</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-29"></a>        <span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content"</span><span class="cp">&gt;&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-30"></a>    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-31"></a>    <span class="cp">${</span><span class="n">footer</span><span class="o">.</span><span class="n">html_footer</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-32"></a>    <span class="cp">${</span><span class="n">body_end</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-33"></a>    <span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'body_end'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-34"></a>    <span class="cp">${</span><span class="n">base</span><span class="o">.</span><span class="n">late_load_js</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-35"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_ac29bee1dc1a40c591f99b5881bfeb96-36"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-2.png"><img alt="https://getnikola.com/images/lanyon-2.thumbnail.png" src="https://getnikola.com/images/lanyon-2.thumbnail.png"></a>
<p class="caption">And that’s af­ter I ex­posed the side­bar by click­ing on an in­vis­i­ble&nbsp;wid­get!</p> 
 </div>
<p>One prob­lem, which caus­es that yel­low col­or in the side­bar is a CSS con­flic­t.
We are load­ing  <tt class="docutils literal">rst.c­ss</tt>  which spec­i­fies
the back­ground col­or of  <tt class="docutils literal">di­v.side­bar</tt>  which is more spe­cif­ic than
 <tt class="docutils literal">lany­on.c­ss</tt>, which spec­i­fies for  <tt class="docutils literal">.side­bar</tt>  alone.</p> 
 <p>There are many ways to fix this, I chose to change lany­on.c­ss to al­so use&nbsp;di­v.side­bar:</p> 
 <pre class="code css"><a name="rest_code_a3358110110845f8aded01b4dfe7a17b-1"></a><span class="nt">div</span><span class="p">.</span><span class="nc">sidebar</span><span class="o">,</span><span class="p">.</span><span class="nc">sidebar</span> <span class="p">{</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-2"></a>    <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-3"></a>    <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-4"></a>    <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-5"></a>    <span class="k">left</span><span class="p">:</span> <span class="mi">-14</span><span class="kt">rem</span><span class="p">;</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-6"></a>    <span class="k">width</span><span class="p">:</span> <span class="mi">14</span><span class="kt">rem</span><span class="p">;</span>
<a name="rest_code_a3358110110845f8aded01b4dfe7a17b-7"></a>    <span class="err">[...]</span>
</pre>
<p>This is an­noy­ing but it will hap­pen when you just grab CSS from dif­fer­ent places. The &#8220;In­spect El­e­men­t&#8221;
fea­ture of your web brows­er is your best friend for these&nbsp;sit­u­a­tion­s.</p> 
 <p>An­oth­er prob­lem is that the con­tents of the nav el­e­ment are wrong. They are not bare links. We will fix that in
 <tt class="docutils literal">base_­head­er.html</tt>, like&nbsp;this:</p> 
 <pre class="code html+mako"><a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-1"></a><span class="cp">&lt;%</span><span class="nb">def</span> <span class="na">name=</span><span class="s">"html_navigation_links()"</span><span class="cp">&gt;</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-2"></a>    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">id</span><span class="o">=</span><span class="s">"menu"</span> <span class="na">role</span><span class="o">=</span><span class="s">"navigation"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-nav"</span><span class="p">&gt;</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-3"></a>    <span class="cp">%</span><span class="k">for</span> <span class="n">url</span><span class="p">,</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">navigation_links</span><span class="p">[</span><span class="n">lang</span><span class="p">]:</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-4"></a>        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-nav-item"</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">url</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">text</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-5"></a>    <span class="cp">%</span><span class="k">endfor</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-6"></a>    <span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'menu'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-7"></a>    <span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'menu_alt'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-8"></a>    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
<a name="rest_code_3eab8d147aad43c8a1c762afb2e69395-9"></a><span class="cp">&lt;/%</span><span class="nb">def</span><span class="cp">&gt;</span>
</pre>
<p><strong>Note: this means this theme will not sup­port sub­menus in nav­i­ga­tion. If you want that, I’ll hap­pi­ly take a&nbsp;patch.</strong></p> 
 <div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-3.png"><img alt="https://getnikola.com/images/lanyon-3.thumbnail.png" src="https://getnikola.com/images/lanyon-3.thumbnail.png"></a>
<p class="caption">Start­ing to see a&nbsp;re­sem­blance?</p> 
 </div>
<p>Now let’s look at the con­tent. In Lany­on, this is how the &#8220;main&#8221; con­tent&nbsp;look­s:</p> 
 <pre class="code html"><a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-1"></a><span class="c">&lt;!-- Wrap is the content to shift when toggling the sidebar. We wrap the</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-2"></a><span class="c">     content to avoid any CSS collisions with our real content. --&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-3"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"wrap"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-4"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-5"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-6"></a>      <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead-title"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-7"></a>        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"/"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Home"</span><span class="p">&gt;</span>Lanyon<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-8"></a>        <span class="p">&lt;</span><span class="nt">small</span><span class="p">&gt;</span>A Jekyll theme<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-9"></a>      <span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-10"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-11"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-12"></a>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-13"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container content"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-14"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"post"</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-15"></a>        <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">"post-title"</span><span class="p">&gt;</span>Introducing Lanyon<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-16"></a>        <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"post-date"</span><span class="p">&gt;</span>02 Jan 2014<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-17"></a>        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Lanyon is an unassuming <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"http://jekyllrb.com"</span><span class="p">&gt;</span>Jekyll<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> theme [...]
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-18"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-19"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-20"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-21"></a><span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-toggle"</span><span class="p">&gt;&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-22"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_f5c8e4b105594424a77cd0af81d79be5-23"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<p>Ev­ery­thing in­side the &#8220;con­tain­er con­tent&#8221; div is… the con­tent. The rest is a mast­head with the site ti­tle
and at the bot­tom a la­bel for the side­bar tog­gle. Easy to do in  <tt class="docutils literal">base.tm­pl</tt> 
(on­ly show­ing the rel­e­vant&nbsp;part):</p> 
 <pre class="code html+mako"><a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-1"></a>    <span class="c">&lt;!-- Wrap is the content to shift when toggling the sidebar. We wrap the</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-2"></a><span class="c">        content to avoid any CSS collisions with our real content. --&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-3"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"wrap"</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-4"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead"</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-5"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container"</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-6"></a>        <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead-title"</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-7"></a>            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"/"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Home"</span><span class="p">&gt;</span>Lanyon<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-8"></a>            <span class="p">&lt;</span><span class="nt">small</span><span class="p">&gt;</span>A Jekyll theme<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-9"></a>        <span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-10"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-11"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-12"></a>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-13"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container content"</span> <span class="na">id</span><span class="o">=</span><span class="s">"content"</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-14"></a>        <span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content"</span><span class="cp">&gt;&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-15"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-16"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-17"></a>    <span class="p">&lt;</span><span class="nt">label</span> <span class="na">for</span><span class="o">=</span><span class="s">"sidebar-checkbox"</span> <span class="na">class</span><span class="o">=</span><span class="s">"sidebar-toggle"</span><span class="p">&gt;&lt;/</span><span class="nt">label</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-18"></a>    <span class="cp">${</span><span class="n">footer</span><span class="o">.</span><span class="n">html_footer</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-19"></a>    <span class="cp">${</span><span class="n">body_end</span><span class="cp">}</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-20"></a>    <span class="cp">${</span><span class="n">template_hooks</span><span class="p">[</span><span class="s1">'body_end'</span><span class="p">]()</span><span class="cp">}</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-21"></a>    <span class="cp">${</span><span class="n">base</span><span class="o">.</span><span class="n">late_load_js</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-22"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_a55ebdfec61f47f894f8fa6c27b94ca1-23"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre>
<div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-4.png"><img alt="https://getnikola.com/images/lanyon-4.thumbnail.png" src="https://getnikola.com/images/lanyon-4.thumbnail.png"></a>
<p class="caption">Get­ting&nbsp;there!</p> 
 </div>
<p>The side­bar looks bad be­cause of yet more CSS con­flicts with  <tt class="docutils literal">rst.c­ss</tt>. By
adding some ex­tra styling in  <tt class="docutils literal">lany­on.c­ss</tt>, it will look&nbsp;bet­ter.</p> 
 <pre class="code css"><a name="rest_code_59508bc336ca4f868d5343965e586ffb-1"></a><span class="c">/* Style and "hide" the sidebar */</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-2"></a><span class="nt">div</span><span class="p">.</span><span class="nc">sidebar</span><span class="o">,</span> <span class="p">.</span><span class="nc">sidebar</span> <span class="p">{</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-3"></a>  <span class="k">position</span><span class="p">:</span> <span class="kc">fixed</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-4"></a>  <span class="k">top</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-5"></a>  <span class="k">bottom</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-6"></a>  <span class="k">left</span><span class="p">:</span> <span class="mi">-14</span><span class="kt">rem</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-7"></a>  <span class="k">width</span><span class="p">:</span> <span class="mi">14</span><span class="kt">rem</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-8"></a>  <span class="k">visibility</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-9"></a>  <span class="k">overflow-y</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-10"></a>  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-11"></a>  <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-12"></a>  <span class="k">border</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-13"></a>  <span class="k">font-family</span><span class="p">:</span> <span class="s2">"PT Sans"</span><span class="p">,</span> <span class="n">Helvetica</span><span class="p">,</span> <span class="n">Arial</span><span class="p">,</span> <span class="kc">sans-serif</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-14"></a>  <span class="k">font-size</span><span class="p">:</span> <span class="mf">.875</span><span class="kt">rem</span><span class="p">;</span> <span class="c">/* 15px */</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-15"></a>  <span class="k">color</span><span class="p">:</span> <span class="nb">rgba</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mi">255</span><span class="p">,</span><span class="mf">.6</span><span class="p">);</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-16"></a>  <span class="k">background-color</span><span class="p">:</span> <span class="mh">#202020</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-17"></a>  <span class="kp">-webkit-</span><span class="k">transition</span><span class="p">:</span> <span class="kc">all</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">ease-in-out</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-18"></a>          <span class="k">transition</span><span class="p">:</span> <span class="kc">all</span> <span class="mf">.3</span><span class="kt">s</span> <span class="kc">ease-in-out</span><span class="p">;</span>
<a name="rest_code_59508bc336ca4f868d5343965e586ffb-19"></a><span class="p">}</span>
</pre>
<p>Al­so, the ac­ces­si­bil­i­ty link on top is vis­i­ble when it should not. That’s
be­cause we re­moved  <tt class="docutils literal">theme.c­ss</tt>  from the base the­me, and with it, we lost a
­cou­ple of class­es. We can add them in  <tt class="docutils literal">lany­on.c­ss</tt>, along with oth­ers used by oth­er
­pieces of the&nbsp;site:</p> 
 <pre class="code css"><a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-1"></a><span class="p">.</span><span class="nc">sr-only</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-2"></a>  <span class="k">position</span><span class="p">:</span> <span class="kc">absolute</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-3"></a>  <span class="k">width</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-4"></a>  <span class="k">height</span><span class="p">:</span> <span class="mi">1</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-5"></a>  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-6"></a>  <span class="k">margin</span><span class="p">:</span> <span class="mi">-1</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-7"></a>  <span class="k">overflow</span><span class="p">:</span> <span class="kc">hidden</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-8"></a>  <span class="k">clip</span><span class="p">:</span> <span class="nb">rect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-9"></a>  <span class="k">border</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-10"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-11"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-12"></a><span class="p">.</span><span class="nc">sr-only-focusable</span><span class="p">:</span><span class="nd">active</span><span class="o">,</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-13"></a><span class="p">.</span><span class="nc">sr-only-focusable</span><span class="p">:</span><span class="nd">focus</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-14"></a>  <span class="k">position</span><span class="p">:</span> <span class="kc">static</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-15"></a>  <span class="k">width</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-16"></a>  <span class="k">height</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-17"></a>  <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-18"></a>  <span class="k">overflow</span><span class="p">:</span> <span class="kc">visible</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-19"></a>  <span class="k">clip</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-20"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-21"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-22"></a><span class="p">.</span><span class="nc">breadcrumb</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-23"></a>  <span class="k">padding</span><span class="p">:</span> <span class="mi">8</span><span class="kt">px</span> <span class="mi">15</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-24"></a>  <span class="k">margin-bottom</span><span class="p">:</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-25"></a>  <span class="k">list-style</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-26"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-27"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-28"></a><span class="p">.</span><span class="nc">breadcrumb</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-29"></a>  <span class="k">display</span><span class="p">:</span> <span class="kc">inline-block</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-30"></a>  <span class="k">margin-right</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-31"></a>  <span class="k">margin-left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-32"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-33"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-34"></a><span class="p">.</span><span class="nc">breadcrumb</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="p">:</span><span class="nd">after</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-35"></a>  <span class="k">content</span><span class="p">:</span> <span class="s1">' / '</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-36"></a>  <span class="k">color</span><span class="p">:</span> <span class="mh">#888</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-37"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-38"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-39"></a><span class="p">.</span><span class="nc">breadcrumb</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="p">:</span><span class="nd">last-of-type</span><span class="p">:</span><span class="nd">after</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-40"></a>  <span class="k">content</span><span class="p">:</span> <span class="s1">''</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-41"></a>  <span class="k">margin-left</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-42"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-43"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-44"></a><span class="p">.</span><span class="nc">thumbnails</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-45"></a>  <span class="k">display</span><span class="p">:</span> <span class="kc">inline-block</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-46"></a>  <span class="k">margin-right</span><span class="p">:</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-47"></a><span class="p">}</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-48"></a>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-49"></a><span class="p">.</span><span class="nc">thumbnails</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="p">:</span><span class="nd">last-of-type</span> <span class="p">{</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-50"></a>  <span class="k">margin-right</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>
<a name="rest_code_ea4fbe0aab5a424e9123504ec3873723-51"></a><span class="p">}</span>
</pre>
<div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-5.png"><img alt="https://getnikola.com/images/lanyon-5.thumbnail.png" src="https://getnikola.com/images/lanyon-5.thumbnail.png"></a>
<p class="caption">Lit­tle by lit­tle, things look&nbsp;bet­ter.</p> 
 </div>
<p>One clear prob­lem is that the ti­tle &#8220;Lany­on · A Jekyll the­me&#8221; is set in the
theme it­self. We don’t do that sort of thing in Niko­la, we have set­tings for
that. So, let’s use them. There is a  <tt class="docutils literal">htm­l_site_ti­tle</tt>  func­tion in
 <tt class="docutils literal">base_helper.tm­pl</tt>  which is just the thing. So we change base.tm­pl to use&nbsp;it:</p> 
 <pre class="code html+mako"><a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-1"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"wrap"</span><span class="p">&gt;</span>
<a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-2"></a>  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead"</span><span class="p">&gt;</span>
<a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-3"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"container"</span><span class="p">&gt;</span>
<a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-4"></a>      <span class="cp">${</span><span class="n">header</span><span class="o">.</span><span class="n">html_site_title</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-5"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_be4c0f22ed884bd8831edfce417beb0f-6"></a>  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre>
<p>That’s a  <tt class="docutils literal">&lt;h1&gt;</tt>  in­stead of a  <tt class="docutils literal">&lt;h3&gt;</tt>  like Lany­on does, but hey, it’s the
right thing to do. If you want to go with an  <tt class="docutils literal">&lt;h3&gt;</tt>, just
change  <tt class="docutils literal">htm­l_site_ti­tle</tt>  it­self.</p> 
 <p>And now we more or less have the cor­rect page lay­out and styles. Ex­cept for a
rather large&nbsp;thing…</p> 
 </div>
<div class="section" id="typography">
<h2>Typography</h2>
<p>You can see in the pre­vi­ous screen­shot that text still looks quite dif­fer­ent in our port: Serif ver­sus San­s-Ser­if
­con­tent, and the ti­tles have dif­fer­ent&nbsp;col­ors!</p> 
 <p>Let’s start with the ti­tles. Here’s how they look in&nbsp;Lany­on:</p> 
 <pre class="code html"><a name="rest_code_bf22b0807aed47f09d7318ada4eb9288-1"></a><span class="p">&lt;</span><span class="nt">h3</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead-title"</span><span class="p">&gt;</span>
<a name="rest_code_bf22b0807aed47f09d7318ada4eb9288-2"></a>  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"/"</span> <span class="na">title</span><span class="o">=</span><span class="s">"Home"</span><span class="p">&gt;</span>Lanyon<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_bf22b0807aed47f09d7318ada4eb9288-3"></a>  <span class="p">&lt;</span><span class="nt">small</span><span class="p">&gt;</span>A Jekyll theme<span class="p">&lt;/</span><span class="nt">small</span><span class="p">&gt;</span>
<a name="rest_code_bf22b0807aed47f09d7318ada4eb9288-4"></a><span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
</pre>
<p>Ver­sus our&nbsp;port:</p> 
 <pre class="code html"><a name="rest_code_b308452eb0264af5b55b09ff893ecf66-1"></a><span class="p">&lt;</span><span class="nt">h1</span> <span class="na">id</span><span class="o">=</span><span class="s">"brand"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"https://example.com/"</span> <span class="na">title</span><span class="o">=</span><span class="s">"My Nikola Site"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"home"</span><span class="p">&gt;</span>
</pre>
<p>So, it looks like we will have to fix  <tt class="docutils literal">htm­l_site_ti­tle</tt>  af­ter&nbsp;al­l:</p> 
 <pre class="code html+mako"><a name="rest_code_fab9b68bbadf45afa735aee6e3f5b7a8-1"></a><span class="cp">&lt;%</span><span class="nb">def</span> <span class="na">name=</span><span class="s">"html_site_title()"</span><span class="cp">&gt;</span>
<a name="rest_code_fab9b68bbadf45afa735aee6e3f5b7a8-2"></a>    <span class="p">&lt;</span><span class="nt">h3</span> <span class="na">id</span><span class="o">=</span><span class="s">"brand"</span> <span class="na">class</span><span class="o">=</span><span class="s">"masthead-title"</span><span class="p">&gt;</span>
<a name="rest_code_fab9b68bbadf45afa735aee6e3f5b7a8-3"></a>    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">abs_link</span><span class="p">(</span><span class="n">_link</span><span class="p">(</span><span class="s2">"root"</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">lang</span><span class="p">))</span><span class="cp">}</span><span class="s">"</span> <span class="na">title</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">blog_title</span><span class="cp">}</span><span class="s">"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"home"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">blog_title</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<a name="rest_code_fab9b68bbadf45afa735aee6e3f5b7a8-4"></a>    <span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>
<a name="rest_code_fab9b68bbadf45afa735aee6e3f5b7a8-5"></a><span class="cp">&lt;/%</span><span class="nb">def</span><span class="cp">&gt;</span>
</pre>
<p>As for the ac­tu­al con­tent, that’s not in any of the tem­plates we have seen so far. The page you see is an
&#8220;in­dex.tm­pl&#8221; page, which means it’s a list of blog posts shown one be­low the
other. Ob­vi­ous­ly it’s not do­ing
things in the way the Lany­on CSS ex­pects it to. Here’s the orig­i­nal, which you
­can find in Niko­la’s source&nbsp;­code:</p> 
 <pre class="code html+mako"><a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-1"></a><span class="cp">## -*- coding: utf-8 -*-</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-2"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"helper"</span> <span class="na">file=</span><span class="s">"index_helper.tmpl"</span><span class="cp">/&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-3"></a><span class="cp">&lt;%</span><span class="nb">namespace</span> <span class="na">name=</span><span class="s">"comments"</span> <span class="na">file=</span><span class="s">"comments_helper.tmpl"</span><span class="cp">/&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-4"></a><span class="cp">&lt;%</span><span class="nb">inherit</span> <span class="na">file=</span><span class="s">"base.tmpl"</span><span class="cp">/&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-5"></a>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-6"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"extra_head"</span><span class="cp">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-7"></a>    <span class="cp">${</span><span class="n">parent</span><span class="o">.</span><span class="n">extra_head</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-8"></a>    <span class="cp">%</span> <span class="k">if</span> <span class="n">posts</span> <span class="ow">and</span> <span class="p">(</span><span class="n">permalink</span> <span class="o">==</span> <span class="s1">'/'</span> <span class="ow">or</span> <span class="n">permalink</span> <span class="o">==</span> <span class="s1">'/'</span> <span class="o">+</span> <span class="n">index_file</span><span class="p">):</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-9"></a>        <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">"prefetch"</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">posts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">type</span><span class="o">=</span><span class="s">"text/html"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-10"></a>    <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-11"></a><span class="cp">&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-12"></a>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-13"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content"</span><span class="cp">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-14"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content_header"</span><span class="cp">&gt;&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-15"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"postindex"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-16"></a><span class="cp">%</span> <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span><span class="p">:</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-17"></a>    <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">"h-entry post-</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">meta</span><span class="p">(</span><span class="s1">'type'</span><span class="p">)</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-18"></a>    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-19"></a>        <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">"p-name entry-title"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">class</span><span class="o">=</span><span class="s">"u-url"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">|</span><span class="n">h</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-20"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"metadata"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-21"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline author vcard"</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline-name fn"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">author</span><span class="p">()</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-22"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"dateline"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"bookmark"</span><span class="p">&gt;&lt;</span><span class="nt">time</span> <span class="na">class</span><span class="o">=</span><span class="s">"published dt-published"</span> <span class="na">datetime</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">title</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-23"></a>            <span class="cp">%</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">post</span><span class="o">.</span><span class="n">meta</span><span class="p">(</span><span class="s1">'nocomments'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">site_has_comments</span><span class="p">:</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-24"></a>                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"commentline"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">comments</span><span class="o">.</span><span class="n">comment_link</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">_base_path</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-25"></a>            <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-26"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-27"></a>    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-28"></a>    <span class="cp">%</span><span class="k">if</span> <span class="n">index_teasers</span><span class="p">:</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-29"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"p-summary entry-summary"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-30"></a>    <span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">teaser_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-31"></a>    <span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-32"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"e-content entry-content"</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-33"></a>    <span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">teaser_only</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-34"></a>    <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-35"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-36"></a>    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-37"></a><span class="cp">%</span><span class="k"> endfor</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-38"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-39"></a><span class="cp">${</span><span class="n">helper</span><span class="o">.</span><span class="n">html_pager</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-40"></a><span class="cp">${</span><span class="n">comments</span><span class="o">.</span><span class="n">comment_link_script</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-41"></a><span class="cp">${</span><span class="n">helper</span><span class="o">.</span><span class="n">mathjax_script</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_67ead16154284ef6b1aea50c5f333fe8-42"></a><span class="cp">&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
</pre>
<p>And this is how it looks af­ter I played with it for a while, mak­ing it gen­er­ate code that looks clos­er to
the Lany­on&nbsp;orig­i­nal:</p> 
 <pre class="code html+mako"><a name="rest_code_f16e89955d944d28938a688eaf80dbc8-1"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content"</span><span class="cp">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-2"></a><span class="cp">&lt;%</span><span class="nb">block</span> <span class="na">name=</span><span class="s">"content_header"</span><span class="cp">&gt;&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-3"></a><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"posts"</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-4"></a><span class="cp">%</span> <span class="k">for</span> <span class="n">post</span> <span class="ow">in</span> <span class="n">posts</span><span class="p">:</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-5"></a>    <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">"post h-entry post-</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">meta</span><span class="p">(</span><span class="s1">'type'</span><span class="p">)</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-6"></a>    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-7"></a>        <span class="p">&lt;</span><span class="nt">h1</span> <span class="na">class</span><span class="o">=</span><span class="s">"post-title p-name"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">class</span><span class="o">=</span><span class="s">"u-url"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">|</span><span class="n">h</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-8"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"metadata"</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-9"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline author vcard"</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline-name fn"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">author</span><span class="p">()</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-10"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"dateline"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"bookmark"</span><span class="p">&gt;&lt;</span><span class="nt">time</span> <span class="na">class</span><span class="o">=</span><span class="s">"post-date published dt-published"</span> <span class="na">datetime</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">title</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-11"></a>            <span class="cp">%</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">post</span><span class="o">.</span><span class="n">meta</span><span class="p">(</span><span class="s1">'nocomments'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">site_has_comments</span><span class="p">:</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-12"></a>                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"commentline"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">comments</span><span class="o">.</span><span class="n">comment_link</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">_base_path</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-13"></a>            <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-14"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-15"></a>    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-16"></a>    <span class="cp">%</span><span class="k">if</span> <span class="n">index_teasers</span><span class="p">:</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-17"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"p-summary entry-summary"</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-18"></a>    <span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">teaser_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-19"></a>    <span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-20"></a>    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"e-content entry-content"</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-21"></a>    <span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">teaser_only</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-22"></a>    <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-23"></a>    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-24"></a>    <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-25"></a><span class="cp">%</span><span class="k"> endfor</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-26"></a><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-27"></a><span class="cp">${</span><span class="n">helper</span><span class="o">.</span><span class="n">html_pager</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-28"></a><span class="cp">${</span><span class="n">comments</span><span class="o">.</span><span class="n">comment_link_script</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-29"></a><span class="cp">${</span><span class="n">helper</span><span class="o">.</span><span class="n">mathjax_script</span><span class="p">(</span><span class="n">posts</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_f16e89955d944d28938a688eaf80dbc8-30"></a><span class="cp">&lt;/%</span><span class="nb">block</span><span class="cp">&gt;</span>
</pre>
<p>With these changes, it look­s…&nbsp;sim­i­lar?</p> 
 <div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-6.png"><img alt="https://getnikola.com/images/lanyon-6.thumbnail.png" src="https://getnikola.com/images/lanyon-6.thumbnail.png"></a>
<p class="caption">It&nbsp;does!</p> 
 </div>
<p>Sim­i­lar changes (ba­si­cal­ly adding class names to el­e­ments) need­ed to be done in  <tt class="docutils literal">post_­head­er.tm­pl</tt>:</p> 
 <pre class="code html+mako"><a name="rest_code_8299430fc0d4486bb66ee5c141724e31-1"></a><span class="cp">&lt;%</span><span class="nb">def</span> <span class="na">name=</span><span class="s">"html_post_header()"</span><span class="cp">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-2"></a>    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-3"></a>        <span class="cp">${</span><span class="n">html_title</span><span class="p">()</span><span class="cp">}</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-4"></a>        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"metadata"</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-5"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline author vcard"</span><span class="p">&gt;&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">"byline-name fn"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">author</span><span class="p">()</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-6"></a>            <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"dateline"</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">rel</span><span class="o">=</span><span class="s">"bookmark"</span><span class="p">&gt;&lt;</span><span class="nt">time</span> <span class="na">class</span><span class="o">=</span><span class="s">"post-date published dt-published"</span> <span class="na">datetime</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">date</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">"datePublished"</span> <span class="na">title</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">formatted_date</span><span class="p">(</span><span class="n">date_format</span><span class="p">)</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">time</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-7"></a>            <span class="cp">%</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">post</span><span class="o">.</span><span class="n">meta</span><span class="p">(</span><span class="s1">'nocomments'</span><span class="p">)</span> <span class="ow">and</span> <span class="n">site_has_comments</span><span class="p">:</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-8"></a>                <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">"commentline"</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">comments</span><span class="o">.</span><span class="n">comment_link</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">permalink</span><span class="p">(),</span> <span class="n">post</span><span class="o">.</span><span class="n">_base_path</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-9"></a>            <span class="cp">%</span><span class="k"> endif</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-10"></a>            <span class="cp">%</span><span class="k">if</span> <span class="n">post</span><span class="o">.</span><span class="n">description</span><span class="p">():</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-11"></a>                <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"description"</span> <span class="na">itemprop</span><span class="o">=</span><span class="s">"description"</span> <span class="na">content</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">post</span><span class="o">.</span><span class="n">description</span><span class="p">()</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-12"></a>            <span class="cp">%</span><span class="k">endif</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-13"></a>        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-14"></a>        <span class="cp">${</span><span class="n">html_translations</span><span class="p">(</span><span class="n">post</span><span class="p">)</span><span class="cp">}</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-15"></a>    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
<a name="rest_code_8299430fc0d4486bb66ee5c141724e31-16"></a><span class="cp">&lt;/%</span><span class="nb">def</span><span class="cp">&gt;</span>
</pre>
</div>
<div class="section" id="customization">
<h2>Customization</h2>
<p>The orig­i­nal Lany­on theme sup­ports some per­son­al­iza­tion op­tion­s. It sug­gests you do them by tweak­ing the tem­plates, and
y­ou  <em>can</em>  al­so do that in the Niko­la port. But we pre­fer to use op­tions for that, so that you can get a lat­er, bet­ter
ver­sion of the theme and it will still &#8220;just&nbsp;work&#8221;.</p> 
 <p>Let’s see the col­or schemes first. They ap­ply eas­i­ly, just tweak your  <tt class="docutils literal">body</tt>  el­e­ment like&nbsp;this:</p> 
 <pre class="code html"><a name="rest_code_88fa578d287141248d9682d108737f7c-1"></a><span class="p">&lt;</span><span class="nt">body</span> <span class="na">class</span><span class="o">=</span><span class="s">"theme-base-08"</span><span class="p">&gt;</span>
<a name="rest_code_88fa578d287141248d9682d108737f7c-2"></a>...
<a name="rest_code_88fa578d287141248d9682d108737f7c-3"></a><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</pre>
<p>We can tweak  <tt class="docutils literal">base.tm­pl</tt>  to do just&nbsp;that:</p> 
 <pre class="code html+mako"><a name="rest_code_298d1fb2b6774879abbb9deb27c2a056-1"></a><span class="cp">%</span> <span class="k">if</span> <span class="n">lanyon_subtheme</span><span class="p">:</span>
<a name="rest_code_298d1fb2b6774879abbb9deb27c2a056-2"></a><span class="p">&lt;</span><span class="nt">body</span> <span class="na">class</span><span class="o">=</span><span class="s">"</span><span class="cp">${</span><span class="n">lanyon_subtheme</span><span class="cp">}</span><span class="s">"</span><span class="p">&gt;</span>
<a name="rest_code_298d1fb2b6774879abbb9deb27c2a056-3"></a><span class="cp">%</span><span class="k">else</span><span class="p">:</span>
<a name="rest_code_298d1fb2b6774879abbb9deb27c2a056-4"></a><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a name="rest_code_298d1fb2b6774879abbb9deb27c2a056-5"></a><span class="cp">%</span><span class="k">endif</span>
</pre>
<p>And then we can put the op­tions in con­f.py’s  <tt class="docutils literal">GLOB­AL_­CON­TEXT</tt>:</p> 
 <pre class="code python"><a name="rest_code_e95f989e6ec444cd828584a2e75f85d7-1"></a><span class="n">GLOBAL_CONTEXT</span> <span class="o">=</span> <span class="p">{</span>
<a name="rest_code_e95f989e6ec444cd828584a2e75f85d7-2"></a>    <span class="s2">"lanyon_subtheme"</span><span class="p">:</span> <span class="s2">"theme-base-08"</span>
<a name="rest_code_e95f989e6ec444cd828584a2e75f85d7-3"></a><span class="p">}</span>
</pre>
<div class="figure">
<a class="reference external image-reference" href="https://getnikola.com/images/lanyon-7.png"><img alt="https://getnikola.com/images/lanyon-7.thumbnail.png" src="https://getnikola.com/images/lanyon-7.thumbnail.png"></a>
<p class="caption">Look at it, all themed&nbsp;up.</p> 
 </div>
<p>Do­ing the same for lay­out-re­verse, side­bar-over­lay and the rest is left as an ex­er­cise for the&nbsp;read­er.</p> 
 </div>
<div class="section" id="bundles">
<h2>Bundles</h2>
<p>If you have  <tt class="docutils literal">we­bas­sets</tt>  in­stalled and the  <tt class="docutils literal">USE_BUN­DLES</tt>  op­tion set to True, Niko­la can put sev­er­al CSS or JS files to­geth­er in a larg­er file,
which makes sites load faster. To do that, your theme needs a  <tt class="docutils literal">bun­dles</tt>  file where the syn­tax&nbsp;is:</p> 
 <pre class="literal-block">
outputfile1.js=thing1.js,thing2.js,...
outputfile2.css=thing1.css,thing2.css,...
</pre>
<p>For the Lany­on the­me, it should be like&nbsp;this:</p> 
 <pre class="literal-block">
assets/css/all.css=rst.css,code.css,poole.css,lanyon.css,custom.css
</pre>
<p><strong>Note:</strong>  Some themes al­so sup­port the  <tt class="docutils literal">USE_CDN</tt>  op­tion mean­ing that in some cas­es it will load one bun­dle with all CSS and in oth­er will load some CSS files
from a CDN and oth­ers from a bun­dle. This is com­pli­cat­ed and prob­a­bly not worth the&nbsp;ef­fort.</p> 
 </div>
<div class="section" id="the-end">
<h2>The&nbsp;End</h2>
<p>And that’s it, that’s a whole theme. Even­tu­al­ly, once peo­ple start us­ing it, they will no­tice small bro­ken de­tail­s, which will need han­dling one at a&nbsp;time.</p> 
 <p>This theme should be avail­able in  <a class="reference external" href="http://themes.getnikola.com#lanyon">http://themes.get­niko­la.­com#lany­on</a>  and you can see it in ac­tion at  <a class="reference external" href="https://themes.getnikola.com/v7/lanyon/index.html">http­s://themes.get­niko­la.­com/v7/lany­on/in­dex.html</a></p> 
 </div>
</div>
    </div>
    
</article>
</div>
            </div>
        </div>
        <button class="btn btn-fab btn-raised btn-material-green btn-footer" data-toggle="modal" data-target="#footer-dialog">
            <i class="mdi-communication-message"></i>
        </button>
        <div id="footer-dialog" class="modal fade" tabindex="-1">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Antipodae&nbsp;credits</h4>
 
              </div>
              <div class="modal-body">
                    Contents © 2017         <a href="mailto:mathieu@antipodae.fr">Mathieu Clabaut</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
                    
              </div>
              <div class="modal-footer">
                <button class="btn btn-primary" data-dismiss="modal">Ok</button>
              </div>
            </div>
          </div>
        </div>
        <div class="source-button">
    <a class="btn btn-fab btn-raised btn-material-indigo" target="_blank" href="index.rst" title="Source">
        <i class="mdi-file-cloud-download"></i>
    </a>

        </div>
        <div class="kc_fab_wrapper"></div>
</div>

            <script src="../../assets/js/all-nocdn.js"></script><script>
                var links = [
                        {
                            "bgcolor": "#F44336",
                            "icon": "<i class='fa fa-share-square-o'></i>",
                        },
                        {
                            "url": "https://twitter.com/",
                            "bgcolor": "#55ACEE",
                            "color": "#fffff",
                            "icon": "<i class='fa fa-twitter'></i>",
                            "target": "_blank",
                        },
                        {
                            "url": "https://github.com/",
                            "bgcolor": "#666666",
                            "color": "#fffff",
                            "icon": "<i class='fa fa-github-square'></i>",
                            "target": "_blank",
                        },
                        {
                            "url": "https://www.facebook.com",
                            "bgcolor": "#3B5998",
                            "color": "#fffff",
                            "icon": "<i class='fa fa-facebook'></i>",
                            "target": "_blank",
                        },
                ];

            $(document).ready(function() {
                // This command is used to initialize some elements and make them work properly
                $.material.init();
                    $('.kc_fab_wrapper').kc_fab(links);
            });

            $(window).on("resize", function() {
                $("html, body").height($(window).height());
                $(".main, .menu").height($(window).height() - $(".header-panel").outerHeight() - 76 ); // footer margin: $("footer.footer").outerHeight()
                $(".posts-material").height($(window).height());
            }).trigger("resize");
        </script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>